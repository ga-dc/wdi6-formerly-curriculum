<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>MVC Intro to Rails | Summary</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.2.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
    

        
    
    
    <link rel="next" href="../../05-mvc-with-rails/rails-models-and-migrations/readme.html" />
    
    
    <link rel="prev" href="../../05-mvc-with-rails/unit_testing_with_rspec/readme.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="5.2" data-basepath="../.." data-revision="Thu Jul 30 2015 22:31:38 GMT+0000 (UTC)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        An Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="01-front-end-fundamentals/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Front End Fundamentals
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="01-front-end-fundamentals/command-line/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/command-line/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Command Line Interface
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="01-front-end-fundamentals/git/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/git/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Git
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="01-front-end-fundamentals/intro-to-web-and-html/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/intro-to-web-and-html/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Intro to Web and HTML
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="01-front-end-fundamentals/css/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/css/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        CSS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="01-front-end-fundamentals/javascript-data-types/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/javascript-data-types/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                        JavaScript Data Types
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="01-front-end-fundamentals/javascript-loops-conditionals/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/javascript-loops-conditionals/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.6.</b>
                        
                        JavaScript Loops &amp; Conditionals
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="01-front-end-fundamentals/javascript-objects-DOM/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/javascript-objects-DOM/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.7.</b>
                        
                        JavaScript Objects and DOM
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="01-front-end-fundamentals/morning-exercises.html">
            
                
                    <a href="../../01-front-end-fundamentals/morning-exercises.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.8.</b>
                        
                        Morning Exercises
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="02-intermediate-front-end/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Intermediate Front End
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="02-intermediate-front-end/scope-context-closures/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Scope, Context, and Closures
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="02-intermediate-front-end/scope-context-closures/scope.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/scope.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.1.</b>
                        
                        Scope
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="02-intermediate-front-end/scope-context-closures/context.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/context.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.2.</b>
                        
                        Context
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="02-intermediate-front-end/scope-context-closures/closures.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/closures.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.</b>
                        
                        Closures
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="02-intermediate-front-end/events-and-callbacks/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/events-and-callbacks/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Events and Callbacks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="02-intermediate-front-end/git_branching/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/git_branching/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Git Branching
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="02-intermediate-front-end/jquery/jquery-intro-selectors.html">
            
                
                    <a href="../../02-intermediate-front-end/jquery/jquery-intro-selectors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        jQuery
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="02-intermediate-front-end/jquery/jquery-two.html">
            
                
                    <a href="../../02-intermediate-front-end/jquery/jquery-two.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        jQuery 2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="02-intermediate-front-end/workflows/lesson_plan.html">
            
                
                    <a href="../../02-intermediate-front-end/workflows/lesson_plan.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Workflows
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="02-intermediate-front-end/css2/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/css2/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        CSS 2 (Layout &amp; Fonts)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="02-intermediate-front-end/homework.html">
            
                
                    <a href="../../02-intermediate-front-end/homework.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.8.</b>
                        
                        Homework Assignments
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" >
            
                
                    <a target="_blank" href="https:/github.com/ga-dc/pbj-project1/blob/master/readme.md">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Project 1
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="04-ruby-mvc-sinatra/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Ruby + MVC with Sinatra
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="04-ruby-mvc-sinatra/ruby-basics/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/ruby-basics/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Ruby Basics
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="04-ruby-mvc-sinatra/ruby-enumerables/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/ruby-enumerables/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Ruby Enumerables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="04-ruby-mvc-sinatra/problem_modeling/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/problem_modeling/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Problem Modeling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="04-ruby-mvc-sinatra/domain_modeling/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/domain_modeling/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Domain Modeling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="04-ruby-mvc-sinatra/databases/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/databases/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Databases
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="04-ruby-mvc-sinatra/active-record-intro/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/active-record-intro/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Active Record
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="04-ruby-mvc-sinatra/sinatra-rest/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/sinatra-rest/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        Sinatra &amp; REST
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="04-ruby-mvc-sinatra/sinatra-and-activerecord/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/sinatra-and-activerecord/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.8.</b>
                        
                        Sinatra &amp; Active Record
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="05-mvc-with-rails/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        MVC with Rails
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="05-mvc-with-rails/unit_testing_with_rspec/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/unit_testing_with_rspec/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Unit Testing with RSpec
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="5.2" data-path="05-mvc-with-rails/MVC-intro-to-rails/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/MVC-intro-to-rails/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        MVC Intro to Rails
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="05-mvc-with-rails/rails-models-and-migrations/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-models-and-migrations/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Models and Migrations
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="05-mvc-with-rails/rails-views-and-controllers/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-views-and-controllers/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Views and Controllers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="05-mvc-with-rails/rails-routes-and-resources/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-routes-and-resources/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        Routes and Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="05-mvc-with-rails/rails-helpers/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-helpers/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                        Helpers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="05-mvc-with-rails/rails-sessions-and-auth/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-sessions-and-auth/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                        Sessions and Auth
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="05-mvc-with-rails/rails-deployment/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-deployment/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                        Deployment
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" >
            
                
                    <a target="_blank" href="https:/github.com/ga-dc/pbj-project2/blob/master/readme.md">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Project 2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="07-apis-with-rails-and-express/readme.html">
            
                
                    <a href="../../07-apis-with-rails-and-express/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        APIs with Rails and Express
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="08-users-and-authentication-in-apis/readme.html">
            
                
                    <a href="../../08-users-and-authentication-in-apis/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Users and Authentication in APIs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" >
            
                
                    <a target="_blank" href="https:/github.com/ga-dc/pbj-project3/blob/master/readme.md">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Project 3
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="10-mvw-with-backbone/readme.html">
            
                
                    <a href="../../10-mvw-with-backbone/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        MV* with Backbone
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="11-mvw-with-angular/readme.html">
            
                
                    <a href="../../11-mvw-with-angular/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        MV* with Angular
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" >
            
                
                    <a target="_blank" href="https:/github.com/ga-dc/pbj-project4/blob/master/readme.md">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Portfolio Project
                    </a>
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Summary</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="mvc-intro-to-rails">MVC - Intro to Rails</h1>
<h2 id="learning-objectives">Learning Objectives</h2>
<ul>
<li>Explain what Ruby on Rails is and it&apos;s architectural components (rMVC)</li>
<li>Explain the lifecycle of an HTTP request in Ruby on Rails</li>
<li>Explain how Convention over Configuration relates to Ruby on Rails</li>
<li>Explain the structure of a rails application (folders &amp; files)</li>
<li>Compare and contrast the structure Sinatra and Rails appps</li>
<li>Create a new Ruby on Rails application</li>
<li>Create a Rails App with a RESTful interface</li>
<li>Follow Rails naming conventions when creating models, views and controllers</li>
<li>Use error driven development in Rails to identify common errors and implement solutions for them.</li>
</ul>
<h2 id="opening-framing-5-5">Opening Framing (5/5)</h2>
<p>So we&apos;ve learned about Sinatra, your very first web framework! It&apos;s great. It&apos;s an awesome tool to get a quick page up and running. So why would we ever want to learn Rails? So Sinatra is kind of like a shovel for web development. Rails is kind of like a nuclear powered back hoe for web development. We need to know how to work a shovel before we get the keys to the back hoe. Many of the same conventions you used in Sinatra will transition into rails, but more importantly, there&apos;s alot more. Rails is a heavy duty web framework that follows relatively strict conventions in order to streamline web development.</p>
<blockquote>
<p>It is designed to make programming web applications easier by making assumptions about what every developer needs to get started. It makes the assumption that there is the &quot;best&quot; way to do things, and it&apos;s designed to encourage that way - and in some cases to discourage alternatives. - Ruby on Rails guide</p>
<p>Rails is a framework with lots of rules/conventions. Pay attention to the conventions you&apos;ll need to follow for rails throughout the week.</p>
</blockquote>
<p><img src="http://i.stack.imgur.com/Sf2OQ.png" alt="rMVC"></p>
<h2 id="rmvc-10-15">rMVC (10/15)</h2>
<p>The design pattern that rails is built around is rMVC - router, model, view and controller.</p>
<p>Life Cycle of the request/response in Rails:</p>
<ol>
<li><p>A user of our web application submits a request to our application&apos;s server. It can come in a myriad of ways. Maybe someone typing in a URL and hitting enter or maybe a user submitting a form on our application.</p>
</li>
<li><p>The request hits the router of the application.</p>
</li>
<li><p>The application than either doesn&apos;t recognize the route (error) or it does recognize it and sends it to a controller.</p>
</li>
<li><p>Once the request hits the controller, its then going to query the database through Active Record(the model) for the information specified in the controller.</p>
</li>
<li><p>Once the controller has the information from the model that it needs it sends it to the view</p>
</li>
<li><p>The view takes the objects from the controller and sends a response to the user.</p>
</li>
</ol>
<p>Let&apos;s take a look at some rails code.</p>
<h2 id="rails-folder-file-structure-15-30">Rails folder/file structure (15/30)</h2>
<p>The first thing that I want to do, is just create a new rails applications. But I think first what we should do is ensure we have rails. <code>$ gem install rails</code>. Next I want to actually create my rails application:</p>
<pre><code class="lang-bash">$ rails new tunr <span class="hljs-operator">-d</span> postgresql
</code></pre>
<p>You can see already there are many folders and files generated from just that one command.</p>
<p><img src="images/rails_folders.png" alt="Rails folder structure"></p>
<p>It can be quite daunting at first. It&apos;ll take some getting used to, but more importantly, you&apos;re already familiar with alot of the stuff in rails we&apos;ll be using. Additionally, you can ignore alot of the other stuff until you need to incorporate some weird gem/dependency. So we started learning about &quot;convention over configuration&quot; during the class for Active Record. As we scale to a rails size application, We can quickly see the need for conventions in such a massive framework.</p>
<p>The first folder we&apos;ll talk about is the <code>app</code> folder:</p>
<p><img src="images/rails_app.png" alt="Rails app folder"></p>
<p>This folder is the the most important folder in your entire application. It&apos;ll have pretty much most of the programs functionality resting in it.</p>
<ul>
<li><code>assets</code> - This will be where all of your CSS, JS, and image files belong.</li>
<li><code>controllers</code> - This folder will contain all controllers.(ST - WG) What do controllers do for us?</li>
<li><code>helpers</code> - This is where you can define any helper methods for your application</li>
<li><code>mailers</code> - Won&apos;t be covering mailers in the scope of this class. Mailers are utilized to send and receive email within a rails application. But it&apos;s pretty simple, if you want to learn more about it. You can look <a href="http://guides.rubyonrails.org/action_mailer_basics.html" target="_blank">here</a></li>
<li><code>models</code> - this folder will contain our AR models.</li>
<li><code>views</code> - This folder contains all of the views in this application.</li>
</ul>
<blockquote>
<p>These folders are easily the most important part of your application. Not to say the other parts aren&apos;t.</p>
</blockquote>
<p>The <code>bin</code> folder contains binstubs. Not going over this in the scope of this class, but basically they&apos;re used as wrappers around ruby gem executables(like pry) to be used in lieu of <code>bundle exec</code></p>
<p>The <code>config</code> is another folder that&apos;s pretty important. The file you&apos;ll most be visiting is <code>routes.rb</code> This is the router in rMVC.</p>
<p>The <code>db</code> folder is one you&apos;ll be working in for a bit of time as well. This contains the seed file but additionally it will also contain your migrations which you&apos;ll be going over in the next class.</p>
<p>In the main directory there are a couple of files your familiar with, the <code>Gemfile</code> and <code>Gemfile.lock</code></p>
<h2 id="tunr-port-to-rails">Tunr Port to Rails</h2>
<p>The sinatra app we&apos;ll be working with is located <a href="https://github.com/ga-dc/sinatra_tunr_to_rails" target="_blank">here</a></p>
<p>Please make sure you create the database, upload the schema and seed your database.</p>
<h3 id="configuring-models-and-db-10-40">Configuring models and DB (10/40)</h3>
<p>If you want to work from the same Sinatra app that I will be working with, it can found <a href="https://github.com/ga-dc/sinatra_tunr_to_rails" target="_blank">here</a>
The first thing that I want to do is connect our rails app to the tunr db that we made in our Sinatra version. We want to go into the <code>config/database.yml</code> file:</p>
<pre><code class="lang-yml">development:
  &lt;</code></pre>
<p>The next thing that I want to do is port my model definitions. All you need to do is create the exact same model files in the sinatra_tunr for the <code>app/models</code> folder in the rails app. Create two files <code>app/models/artist.rb</code> and <code>app/models/song.rb</code> and fill the contents.</p>
<p><code>app/models/artist.rb</code>:</p>
<pre><code class="lang-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Artist</span> <span class="hljs-inheritance">&lt; <span class="hljs-parent">ActiveRecord::Base</span></span></span>
  has_many <span class="hljs-symbol">:songs</span>, <span class="hljs-symbol">dependent:</span> <span class="hljs-symbol">:destroy</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p><code>app/models/song.rb</code>:</p>
<pre><code class="lang-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Song</span> <span class="hljs-inheritance">&lt; <span class="hljs-parent">ActiveRecord::Base</span></span></span>
  belongs_to <span class="hljs-symbol">:artist</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>Let&apos;s run rails console and play with our models to test for a good connection to the database(5m to make sure everyone has a connection to the database):</p>
<h3 id="routes-the-non-rails-way-15-55">Routes(the non rails way)(15/55)</h3>
<p>Great, now that we&apos;ve established a connection to our database let move on to building out our routes.</p>
<p>Basically what were doing here is mapping out what the different routes of our application will be just like our controllers in sinatra did for us. Let&apos;s pull from the artists controller first. Here&apos;s an example before/after for the first one:</p>
<pre><code class="lang-ruby"><span class="hljs-comment"># in sinatra</span>
get <span class="hljs-string">&quot;/artists&quot;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-variable">@artists</span> = <span class="hljs-constant">Artist</span>.all
  erb(<span class="hljs-symbol">:<span class="hljs-string">&quot;artists/index&quot;</span></span>)
<span class="hljs-keyword">end</span>

post <span class="hljs-string">&quot;/artists&quot;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-variable">@artist</span> = artist.create!(params[<span class="hljs-symbol">:artist</span>])
  redirect(<span class="hljs-string">&quot;/artists/<span class="hljs-subst">#{<span class="hljs-variable">@artist</span>.id}</span>&quot;</span>)
<span class="hljs-keyword">end</span>

<span class="hljs-comment"># Becomes this in routes.rb:</span>
get <span class="hljs-string">&quot;artists&quot;</span> =&gt; <span class="hljs-string">&quot;artists#index&quot;</span>
post <span class="hljs-string">&quot;artists&quot;</span> =&gt; <span class="hljs-string">&quot;artists#create&quot;</span>
</code></pre>
<blockquote>
<p>the actions for put/delete requests are update/destroy</p>
</blockquote>
<h3 id="break-you-do-create-the-rest-of-the-routes-including-all-the-song-routes-20-75">BREAK + You do - create the rest of the routes including all the song routes (20/75)</h3>
<p>For the next part of the class</p>
<h2 id="error-driven-development-30-105">Error Driven Development (30/105)</h2>
<p>I&apos;m going to be using error driven development to show some common errors and their solutions.</p>
<p>Alright, I want to go ahead and test one of these routes out. In the terminal start up your rails server <code>$ rails s</code> And open a new terminal tab <code>cmd + &quot;t&quot;</code> and type <code>rake routes</code>. This shows you every route that is defined in <code>config/routes.rb</code></p>
<p>Lets go into our browser and go to <code>http://localhost:3000/artists</code> and we&apos;ll see:</p>
<p><img src="images/routing_error.png" alt="routing error"></p>
<p>So the application receives the request and says, <code>/artists</code> I know what to do here. I need to send this to the artists controller.</p>
<p>Then finally we hit this error above. <code>unintialized constant ArtistsController</code> that means we have to create that controller. So let&apos;s go ahead and do that. <code>$ touch app/controllers/artists_controller.rb</code></p>
<p>In <code>app/controllers/artists_controller.rb</code>:</p>
<pre><code class="lang-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArtistsController</span> <span class="hljs-inheritance">&lt; <span class="hljs-parent">ApplicationController</span></span></span>

<span class="hljs-keyword">end</span>
</code></pre>
<p>Let&apos;s refresh:
<br>
<img src="images/unknown_action.png" alt="unknown_action"></p>
<p>Oh noes another error. When we go to <code>http://localhost:3000/artists</code> our router says it knows where to send it. It&apos;s sending it to the artists controller and expects it to do the index action. Unfortunately we haven&apos;t defined it yet, so it&apos;s unknown. Lets go ahead and define one now</p>
<p>In <code>app/controllers/artists_controller.rb</code>:</p>
<pre><code class="lang-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArtistsController</span> <span class="hljs-inheritance">&lt; <span class="hljs-parent">ApplicationController</span></span></span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> </span>index

  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>Great let&apos;s reload:
<img src="images/template_missing.png" alt="template_missing"></p>
<p>Another one .... We&apos;ll get more into this later. But this one is yelling at us for not having a view ready yet. Specifically in this case, the index view. So let&apos;s create that. Let&apos;s first make a directory and file in the terminal:</p>
<pre><code class="lang-bash">$ mkdir app/views/artists
$ touch app/views/artists/index.html.erb
</code></pre>
<p>Inside <code>app/views/artist/index.html.erb</code>:
Just put <code>&lt;h1&gt;Hello World&lt;/h1&gt;</code></p>
<p>And finally:</p>
<p><img src="images/hello_world.png" alt="hello_world"></p>
<p>Hooray! That&apos;s really awesome. But not all that useful. Really what we want is all of the artists. If only we had some existing code and we can just copy stuff, we do! Lets take a look at our artist index view in our sinatra app.</p>
<pre><code class="lang-ruby">&lt;h2&gt;Artists &lt;a href=&quot;/artists/new&quot;&gt;(+)&lt;/a&gt;&lt;/h2&gt;

&lt;ul&gt;
  &lt;% @artists.each do |artist| %&gt;
    &lt;li&gt;
      &lt;a href=&quot;/artists/&lt;%= artist.id %&gt;&quot;&gt;
        &lt;%= artist.name %&gt;
      &lt;/a&gt;
    &lt;/li&gt;
  &lt;% end %&gt;
&lt;/ul&gt;
</code></pre>
<p>Yep, looks good, lets shove all this stuff into the <code>app/views/artist/index.html.erb</code>.</p>
<p>Let&apos;s refresh the page:</p>
<p><img src="images/no_method_error.png" alt="no_method_error"></p>
<p>When we look at this error it says <code>undefined method &apos;each&apos; for nil:NilClass</code></p>
<p>That&apos;s because <code>@artists</code> isn&apos;t defined. Let&apos;s define that now in the index action of our artists controller. In <code>app/controllers/artists_controller.rb</code>:</p>
<pre><code class="lang-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArtistsController</span> <span class="hljs-inheritance">&lt; <span class="hljs-parent">ApplicationController</span></span></span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> </span>index
    <span class="hljs-variable">@artists</span> = <span class="hljs-constant">Artist</span>.all
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="you-do-the-rest-of-it-45-145">You do - THE REST OF IT. (45/145)</h3>
<p>We&apos;ve already done all of the code in Sinatra. All you&apos;re doing is changing the code from a sinatra app to a rails app.</p>
<h4 id="port-controller-file">Port Controller File</h4>
<ul>
<li>copy the contents of the Sinatra Controllers and convert each block into a method/action on the rails app. Make sure the method/action names match what you have defined in the router.</li>
<li>convert all <code>redirect()</code> statements to <code>redirect_to()</code>. Replace all <code>erb()</code> statements with <code>render()</code> statements.(or omit them if the name of the file matches the controller and action name)</li>
</ul>
<h4 id="copy-views">Copy Views</h4>
<p>Copy over the <code>views/artists</code> folder into <code>app/views</code> in our Rails app. We used
the Rails convention in Sinatra, so the only thing we have to do is rename
each file from something like <code>new.erb</code> to <code>new.html.erb</code>.</p>
<p>Also, copy over the <code>layout.erb</code> file into
<code>app/views/layouts/application.html.erb</code>. Make sure to keep the Rails&apos; generated
content in the <code>&lt;head&gt;</code> though.</p>
<h4 id="fix-authenticty-token-issues">Fix Authenticty Token Issues</h4>
<p>Rails protects us from an attack called a Cross-Site Forgery Request or &apos;CSRF&apos;.
It does this by embedding a unique key into each form it generates for us, and
rejecting non-GET requests without the key.</p>
<p>To allow us to use non-Rails forms (until tomorrow), we need to comment out the
following line in <code>application_controller.rb</code>:</p>
<pre><code class="lang-ruby">    protect_from_forgery <span class="hljs-symbol">with:</span> <span class="hljs-symbol">:exception</span>
</code></pre>
<p>and inside <code>config/application.rb</code></p>
<pre><code class="lang-ruby">config.action_controller.permit_all_parameters = <span class="hljs-keyword">true</span>
</code></pre>
<h3 id="run-rails-server">Run rails server</h3>
<p>Run rails server and test out your site. It&apos;s not all too much different from Sinatra. Except it splits the conerns of routing from controllers, and makes assumptions about what your files are called.</p>
<h2 id="closing-5-150">Closing(5/150)</h2>
<p>Review LO&apos;s
Homework will be to port WDInstagram to a rails app. <a href="https://github.com/ga-dc/WDInstgram_rails" target="_blank">here</a></p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../05-mvc-with-rails/unit_testing_with_rspec/readme.html" class="navigation navigation-prev " aria-label="Previous page: Unit Testing with RSpec"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../05-mvc-with-rails/rails-models-and-migrations/readme.html" class="navigation navigation-next " aria-label="Next page: Models and Migrations"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
